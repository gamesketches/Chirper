<html>
<head>
	<script src="crafty.js"></script>
	<script src="components.js"></script>
</head>
<body>
	<script>
	var screenWidth = 700;
	var screenHeight = 500;
	Crafty.init(screenWidth, screenHeight);
	Crafty.audio.add("Laser", "laser.wav");
	Crafty.sprite(20, 20, "alien.png", {AlienSprite: [0,0]});
	Crafty.sprite(20, 20, "bison.png", {BisonSprite: [0,0]});
	Crafty.sprite(20, 20, "creepyHead.png", {CreepyHead: [0,0]});
	Crafty.scene("Intro", function() {
		Crafty.background("#000000");
		var chirps = Crafty.e("2D, DOM, Text, Delay")
			.attr({ x: 100, y: screenHeight / 2 })
			.text("Please RT! I need some Ganymede Buffalo heads and Blue Skull Eyeballs For my mother!").textFont({size: '30px'}).textColor("#FFFFFF")
			.delay(function() {
				this.text("@earthgirl I can help you out, lemme rustle some up then I'll send it via Galaxy Post");
				this.delay(function() {
					Crafty.scene("BuffaloTrace");
				}, 4000);
			}, 4000);
	});
	Crafty.scene("Transition", function() {
		Crafty.background("#000000");
		var chirps = Crafty.e("2D, DOM, Text, Delay")
			.attr({ x: 100, y: screenHeight / 2})
			.text("@earthgirl I got the heads, I'll send 'em on the next shuttle out :)").textFont({size: '30px'}).textColor("#FFFFFF")
			.delay(function() {
					this.text("@earthgirl @alienbrosky I'm on Mercury, can get you those Eyeballs");
					this.delay(function() {
						this.text(".@alienbrosky @dudemerc Thanks so much guys, love the chirperverse!");
						this.delay(function() {
							Crafty.scene("ClosingIn");
						}, 4000);
					}, 4000);
			}, 4000);

	});
	Crafty.scene("BuffaloTrace", function() {
	Crafty.background("#0000FF");
	Crafty.e("PC");
	var enemiesMade = 0;
	Crafty.e("Delay, 2D").delay(function() {
		Crafty.e("Enemy");
	}, 1000, -1);
	});
	Crafty.scene("ClosingIn", function() {
	Crafty.background("#00FF00");
	var player = Crafty.e("PC");
	Crafty.e("Delay, 2D").delay(function() {
		var xVal, yVal;
		if(Crafty.math.randomInt(0,1)) {
				xVal = Crafty.math.randomInt(0, screenWidth)
			if(Crafty.math.randomInt(0,1)) {
				yVal = 0;
			}
			else {
				yVal = screenHeight - 20;
			}
		}
		else {
				yVal = Crafty.math.randomInt(0, screenHeight)
			if(Crafty.math.randomInt(0,1)) {
				xVal = 0
			}
			else {
				xVal = screenWidth - 20;
			}
		}
		Crafty.e("Enemy").attr({x: xVal, y: yVal, w: 20, h: 20}).setTarget(player);
	}, 900, -1);
	});
	Crafty.scene("GameOver", function() {
		Crafty.background("#000000");
		Crafty.e("2D, DOM, Text")
			.attr({ x: screenWidth / 2, y: screenHeight / 2 })
			.text("Game Over!").textFont({size: '30px'}).textColor("FF0000");
	});
	Crafty.scene("Intro");
	</script>
</body>
</html>